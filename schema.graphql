# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

type Channel {
  id: ID!
  title: String!
  topic: String
  created: DateTime!
  modified: DateTime!
  messages: [Message!]!
}

"""
The javascript `Date` as string. Type represents date and time as the ISO Date string.
"""
scalar DateTime

"""
A type tag of entities.
"""
enum EntityType {
  ROLL
  LINK
}

type Message {
  id: ID!
  type: MessageType!
  user: User!
  channel: Channel
  nickname: String!
  charName: String!
  isAction: Boolean!

  """
  Message plain text.
  """
  content: String!
  entities: [MessageEntity!]!
  previous: ID
  inThread: Boolean!
  created: DateTime!
  modified: DateTime!

  """
  Is a cached message.
  """
  cached: Boolean
}

"""
Text block, range is [start, start+offset).
"""
type MessageEntity {
  type: EntityType!
  start: Int!
  offset: Int!

  """
  Appears only when the type is link
  """
  link: String
}

"""
A type tag of messages.
"""
enum MessageType {
  SYSTEM
  SAY
  ROLL
  OOC
}

type Mutation {
  register(nickname: String!, password: String!, email: String!): User
}

type Query {
  """
  Get all messages.
  """
  messages: [Message!]!
  getMessageById(id: ID!): Message!

  """
  Get all users.
  """
  users: [User!]!
  getUserById(id: ID!): User

  """
  Get all channels.
  """
  channels: [Channel!]!
  getChannelById(id: ID!): Channel
}

type User {
  id: ID!
  email: String!
  nickname: String!
  created: DateTime!
}
